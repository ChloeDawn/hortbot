# TODO

## The basics

- [x] Single process mode (usable but not final)
    - MVP
    - Need configuration setup
- [ ] Multi process mode
    - Messaging over NSQ
    - Redis for k/v, dedupe, expiration, cooldowns
    - No-downtime upgrades
    - Figure out global prevention
- [ ] Website
    - Needed for OAuth stuff
- [ ] JSON configuration transferer

## CoeBot features

Some features are not currently planned to be ported and have been crossed out.

### Differences

- The "regular" role has essentially been removed. All subs are "regulars", and all "regulars" are subs.
This means that the `subsRegsMinusLinks` option doesn't make much sense. Instead, it may be referred to
as `subsMayLink`, which when true means subs may link in chat.
- Subs are allowed to post links by default, as regulars would be.

### Functionality

- [x] Link detection and moderation
    - [x] YouTube API access to grab URLs
- [ ] Twitch API stuff
    - [ ] For many things, this requires OAuth, which means the web service.

### Commands

- [ ] General commands
    - [x] Join/part (in bot's channel)
    - [x] Part (in other channels); waiting until this can have "confirm" functionality
    - [x] ~~Topic~~
    - [x] Viewers (*Twitch API*)
    - [x] Chatters (*Twitch API*)
    - [x] Uptime (*Twitch API*)
    - [x] LastFM
        - [x] `music`
        - [x] Song link
    - [ ] Bot help (*Website*)
    - [x] ~~Commercial~~
    - [x] Game (*Twitch API*)
        - [x] Get game
        - [x] Set game
    - [x] Status (*Twitch API*)
        - [x] Get status
        - [x] Set status
    - [ ] statusgame/steamgame (*Steam API*)
    - [x] ~~XBox game~~
    - [ ] Follow me (*Twitch API*)
        - Should this be automatic?
    - [x] ~~Viewer stats~~ (Use twitchtracker or sullygnome)
    - [ ] Punish stats (requires moderation)
    - [ ] What should I play (*Steam API*)
    - [ ] Google
    - ~~[x] Wiki~~
    - [ ] Is live (*Twitch API*)
    - [ ] Is here (*Twitch API*)
- [ ] Custom Commands
    - [x] Cooldowns
    - [x] Add
    - [x] Delete
    - [x] Restrict
    - [x] Rename (undocumented)
    - [x] Editor (undocumented)
    - [ ] Link to list of commands (*Website*)
    - [ ] Clone
- [x] Repeats
    - This might need to get reworked to prevent statefulness within the bot.
    - [x] Add
    - [x] Delete
    - [x] On/off
    - [x] List
- [x] Schedule
    - [x] Add
    - [x] Delete
    - [x] On/off
    - [x] List
- [ ] Auto-replies
    - [x] Add
    - [x] Remove
    - [x] Edit
    - [x] List
    - [ ] Actions inside of autoreply responses
    - [ ] Similarly to quotes, emulate old list behavior
- [ ] "Fun"
    - [x] ~~Throw~~ (Use a custom command.)
    - [x] ~~Winner~~
    - [ ] Random number
    - [x] ~~Hug~~ (Use a custom command.)
    - [x] Conch/helix (Requires quotes)
    - [ ] Urban
    - [x] ~~Me~~ (Use a custom command.)
    - [x] ~~Race~~
    - [x] XKCD
- [x] Quotes
    - [ ] Link to quotes page on website (*Website*)
    - [x] Add
    - [x] Delete
    - [x] Get
    - [x] Get index
    - [x] Random
    - [x] Search
    - [ ] CoeBot would delete a quote and shift quotes after it backwards; HortBot doesn't. There needs to be a command to emulate this behavior.
- [x] ~~Poll~~
- [x] ~~Giveaways~~
- [x] Raffles
    - [x] Raffle
    - [x] Enable/disable
    - [x] Reset
    - [x] Count
    - [x] Winner
- [x] ~~Highlights~~
    - Predates Twitch clips; may still consider reviving.
- [x] ~~Binding of Isaac: Rebirth~~
- [x] Moderation
    - [x] Slow mode on/of
    - [x] Sub mode on/of
    - [x] Ban
    - [x] Timeout
    - [x] Purge
    - [x] Link permit (needs detection)
        - [x] `allow` form
    - [x] Clear chat
- [x] Ignores
    - [x] Add/delete
    - [x] List
- [x] ~~Raids~~ Twitch does this better now
    - May partially implement.
    - [ ] `host`
    - [ ] `unhost`
- [ ] Settings
    - Lots of settings here related to other items.
    - [x] ~~`topic`~~
    - [x] `parseYoutube`
    - [x] `shouldModerate`
    - [ ] `roll`
        - [ ] `timeoutoncriticalfail`
        - [ ] `default`
        - [ ] `cooldown`
        - [ ] `userlevel`
    - [x] ~~`songrequest`~~
    - [x] `extralifeid`
    - [ ] `urban`
    - [x] ~~`gamertag`~~
    - [x] `bullet`
    - [x] `subsRegsMinusLinks` AKA `subsMayLink` (see "differences" above)
    - [x] `cooldown`
    - [x] ~~`throw~~
    - [x] `lastfm`
    - [ ] `steam` (*Steam API*)
    - [ ] `mode`
    - [x] ~~`commerciallength`~~
    - [ ] `tweet`
    - [x] `prefix`
    - [x] ~~`emoteset`~~ Doesn't seem to be particularly useful with emotes in tags.
    - [ ] `subscriberalerts`
    - [ ] `resubalerts`
- [x] User levels
    - [x] Add/remove reg/mod/owner
    - [x] List
- [x] Filters
    - [x] Warnings, then timeouts.
    - [x] Me
    - [x] Links
        - [x] Permitted domains (and more)
    - [x] Capitals
    - [x] Banned phrases
    - [x] Symbols
    - [x] Max length
    - [x] Emotes
    - [x] Options
        - [x] `on`/`off`
        - [x] `status`
        - [x] `me`
        - [x] `enablewarnings`
        - [x] `timeoutduration`
        - [x] `displaywarnings`
        - [x] `messagelength`
        - [x] `links`
        - [x] `pd`
        - [x] `banphrase`
        - [x] `caps`
        - [x] `emotes`
        - [x] `symbols`
- [ ] Administration
    - [x] ~~`verboseLogging`~~
    - [ ] `imp`
    - [ ] `+whatprefix`
    - [ ] `altsend`
    - [x] ~~`disconnect`~~
    - [ ] `admin`
        - [ ] `channels`
        - [ ] `join`
        - [ ] `part`
        - [ ] `block`
        - [ ] `unblock`
        - [ ] `reconnect`
        - [x] ~~`reload`~~
        - [ ] `color`
        - [ ] `loadfilter` (Needs live-reloading configs)
        - [ ] `spam`
        - [ ] `#`
        - [x] ~~`trimchannels`~~
- [x] Variables
    - [x] Set
    - [x] Delete
    - [x] Get
    - [x] Increment
    - [x] Decrement
    - [x] Actions / string replacements (see below)
- [ ] Lists
- [ ] Misc undocumented stuff
    - [ ] Roll
    - [ ] Cross channel commands
    - [x] ~~Weird testing commands~~ (Twitch resubs are no longer sent in PRIVMSGs)
    - [ ] Steam game (expand to other stores?)
    - [x] Extra Life stuff
    - [x] ~~`strawpoll`~~
    - [x] ~~`channelID`~~
    - [x] ~~`whisper`~~
    - [ ] "wp"
    - [ ] ~~`properties`~~ (This endpoint has been removed.)
    - [x] ~~`songrequest`~~
    - [x] ~~`sendUpdate`~~
    - [x] ~~Custom commands from another channel (`#<user>/`)~~
    - [ ] `modchan`
    - [ ] `rejoin`

### Actions (string replacements)

- [ ] `(_GAME_)` (*Twitch API*)
- [ ] `(_STATUS_)` (*Twitch API*)
- [ ] `(_VIEWERS_)` (*Twitch API*)
- [ ] `(_CHATTERS_)` (*Twitch API*)
- [ ] `(_STEAM_PROFILE_)` (*Steam API*)
- [ ] `(_STEAM_GAME_)` (*Steam API*)
- [ ] `(_STEAM_SERVER_)` (*Steam API*)
- [ ] `(_STEAM_STORE_)` (*Steam API*)
- [x] `(_SONG_)`
- [x] `(_SONG_URL_)`
- [x] `(_LAST_SONG_)`
- [ ] `(_BOT_HELP_)` (*Website*)
- [x] `(_USER_)`
- [x] `(_QUOTE_)`
- [ ] ~~`(_COMMERCIAL_)`~~
- [x] `(_PARAMETER_)`
- [x] `(_PARAMETER_CAPS_)`
- [x] `(_NUMCHANNELS_)`
- [x] ~~`(_XBOX_GAME_)`~~
- [x] ~~`(_XBOX_PROGRESS_)`~~
- [x] ~~`(_XBOX_GAMERSCORE_)`~~
- [x] `(_ONLINE_CHECK_)` (*Twitch API*)
- [x] `(_SUBMODE_ON_)`
- [x] `(_SUBMODE_OFF_)`
- [ ] `(_GAME_IS_<GAME>_)` (*Twitch API*)
- [ ] `(_GAME_IS_NOT_<GAME>_)` (*Twitch API*)
- [x] `(_HOST_<CHANNEL>_)`
- [x] `(_UNHOST_)`
- [x] `(_RANDOM_<MIN>_<MAX>_)`
- [x] `(_RANDOM_INT_<MIN>_<MAX>_)`
- [x] `(_<COMMANDNAME>_COUNT_)`
- [x] `(_PURGE_)`
- [x] `(_TIMEOUT_)`
- [x] `(_BAN_)`
- [x] `(_SUBMODE_OFF_)`
- [x] `(_SUBMODE_OFF_)`
- [x] `(_REGULARS_ONLY_)`
- [ ] `(_COMMAND_<NAME>_)` (for autoreplies)
- [ ] Sub message specific actions
- [ ] `(_TWEET_URL_)`
- [x] `(_EXTRALIFE_AMOUNT_)`
- [ ] DATE/TIME/UNTIL variants
- [x] VAR actions
- [ ] LIST actions
- [x] `(_SILENT_)`
- [x] `(_CHANNEL_URL_)`
- [ ] `(_n_)` ("args")


## New features

- [ ] A new command language (scripting!)
- [ ] GMod integration
- [x] More "add" subcommands for !command, to preset restrictions.
- [ ] Extra commands for the new `/delete` feature (to replace purging)

### Actions

- [x] `(_DELETE_)` (new)
